<!DOCTYPE html>
<html>
  <head lang="en">
    <title>Transmission project map test build v1.1</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.css">
    <script src="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
    <link rel="stylesheet" href="dist/easyPrint.css"/>
    <script src="dist/leaflet.easyPrint.js"></script>

    <style>
		#map {
			width:100%;
			height:95vh;
		}
	  </style>

  </head>
  <body>
  <div id="map" ></div>

    <script>
    var map = L.map('map', {
    crs: L.CRS.Simple,
    attributionControl: false,
    minZoom: -2
    });

    var bounds = [[-20,-4.1], [20.3,58]];
    var image = L.imageOverlay('69kv_map.png', bounds).addTo(map);

    //print
    L.easyPrint({
    title: 'print button',
    position: 'topleft',
    elementsToHide: 'popup, a'
    }).addTo(map);

    // marker icons
    var StarIcon = L.Icon.extend({
    options: {
        shadowUrl: 'marker-shadow.png',
        iconSize:     [25, 41],
        shadowSize:   [41, 41],
        iconAnchor:   [11.5, 40],
        shadowAnchor: [10, 40],
        popupAnchor:  [2, -25]
    }
    });
    var StormIcon = L.Icon.extend({
    options: {
        shadowUrl: 'marker-shadow.png',
        iconSize:     [25, 41],
        shadowSize:   [41, 41],
        iconAnchor:   [11.5, 40],
        shadowAnchor: [10, 40],
        popupAnchor:  [2, -25]
    }
    });
    var SmfIcon = L.Icon.extend({
    options: {
        shadowUrl: 'marker-shadow.png',
        iconSize:     [25, 41],
        shadowSize:   [41, 41],
        iconAnchor:   [11.5, 40],
        shadowAnchor: [10, 40],
        popupAnchor:  [2, -25]
    }
    });
    var MaintenanceIcon = L.Icon.extend({
    options: {
        shadowUrl: 'marker-shadow.png',
        iconSize:     [25, 41],
        shadowSize:   [41, 41],
        iconAnchor:   [11.5, 40],
        shadowAnchor: [10, 40],
        popupAnchor:  [2, -25]
    }
    });
    var PlanningIcon = L.Icon.extend({
    options: {
        shadowUrl: 'marker-shadow.png',
        iconSize:     [25, 41],
        shadowSize:   [41, 41],
        iconAnchor:   [11.5, 40],
        shadowAnchor: [10, 40],
        popupAnchor:  [2, -25]
    }
    });
    var CustomerIcon = L.Icon.extend({
    options: {
        shadowUrl: 'marker-shadow.png',
        iconSize:     [25, 41],
        shadowSize:   [41, 41],
        iconAnchor:   [11.5, 40],
        shadowAnchor: [10, 40],
        popupAnchor:  [2, -25]
    }
    });

    var blueStar = new StarIcon({iconUrl: 'blueStar.png'}),
        greenStar = new StarIcon({iconUrl: 'greenStar.png'}),
        redStar = new StarIcon({iconUrl: 'redStar.png'}),
        pinkStar = new StarIcon({iconUrl: 'pinkStar.png'});

    var blueStorm = new StormIcon({iconUrl: 'blueStorm.png'}),
        greenStorm = new StormIcon({iconUrl: 'greenStorm.png'}),
        redStorm = new StormIcon({iconUrl: 'redStorm.png'}),
        pinkStorm = new StormIcon({iconUrl: 'pinkStorm.png'});

    var blueSmf = new SmfIcon({iconUrl: 'blueSmf.png'}),
        greenSmf = new SmfIcon({iconUrl: 'greenSmf.png'}),
        redSmf = new SmfIcon({iconUrl: 'redSmf.png'}),
        pinkSmf = new SmfIcon({iconUrl: 'pinkSmf.png'});

    var blueMaintenance = new MaintenanceIcon({iconUrl: 'blueMaintenance.png'}),
        greenMaintenance = new MaintenanceIcon({iconUrl: 'greenMaintenance.png'}),
        redMaintenance = new MaintenanceIcon({iconUrl: 'redMaintenance.png'}),
        pinkMaintenance = new MaintenanceIcon({iconUrl: 'pinkMaintenance.png'});

    var bluePlanning = new PlanningIcon({iconUrl: 'bluePlanning.png'}),
        greenPlanning = new PlanningIcon({iconUrl: 'greenPlanning.png'}),
        redPlanning = new PlanningIcon({iconUrl: 'redPlanning.png'}),
        pinkPlanning = new PlanningIcon({iconUrl: 'pinkPlanning.png'});

    var blueCustomer = new CustomerIcon({iconUrl: 'blueCustomer.png'}),
        greenCustomer = new CustomerIcon({iconUrl: 'greenCustomer.png'}),
        redCustomer = new CustomerIcon({iconUrl: 'redCustomer.png'}),
        pinkCustomer = new CustomerIcon({iconUrl: 'pinkCustomer.png'});

    var popup = L.popup();


    function onMapClick(e) {
        popup
            .setLatLng(e.latlng)
            .setContent("Coordinates : " + e.latlng.toString())
            .openOn(map);
    }

    map.on('click', onMapClick);

    map.fitBounds(bounds);

    map.setZoom(5)

    </script>

    <!-- this runs the jobmarker script after the map populates -->
    <script src="markers.js"></script>

  </body>
  <footer>
    <p style="text-align:left;">
    Transmission project map
    <span style="float:right;"> &emsp; Copyright (c) 2017 Bryce Henley</span>
    </p>
  </footer>
</html>
